<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PALEOocean Reactions · PALEOocean Documentation</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PALEOocean Documentation</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">PALEOocean.jl documentation</a></li><li><span class="tocitem">Examples and Tutorials</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">PTBClarkson2014</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../collated_examples/PTBClarkson2014/README/">PTB land-atmosphere-ocean model (Clarkson 2015)</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">mitgcm</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../collated_examples/mitgcm/README/">MITgcm transport matrix ocean-only examples</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">ocean3box</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../collated_examples/ocean3box/README/">3 Box Ocean Examples</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">skeleton_configuration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../collated_examples/skeleton_configuration/README/">Skeleton ocean-atmosphere configuration</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">transport_examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../collated_examples/transport_examples/README/">Transport examples</a></li></ul></li></ul></li><li><span class="tocitem">Design</span><ul><li><a class="tocitem" href="../PALEOocean_Domains/">PALEOocean Domains, fluxes, and standard Variables</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li class="is-active"><a class="tocitem" href>PALEOocean Reactions</a><ul class="internal"><li><a class="tocitem" href="#Ocean-geometry-and-circulation-transport"><span>Ocean geometry and circulation transport</span></a></li><li><a class="tocitem" href="#Vertical-Transport"><span>Vertical Transport</span></a></li><li><a class="tocitem" href="#Biological-Production"><span>Biological Production</span></a></li><li><a class="tocitem" href="#Ocean-surface-air-sea-flux"><span>Ocean surface air-sea flux</span></a></li><li><a class="tocitem" href="#Ocean-floor-burial"><span>Ocean floor burial</span></a></li></ul></li><li><a class="tocitem" href="../PALEOocean_functions/">PALEOocean functions</a></li></ul></li><li><a class="tocitem" href="../References/">References</a></li><li><a class="tocitem" href="../indexpage/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>PALEOocean Reactions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>PALEOocean Reactions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/main/docs/src/PALEOocean_Reactions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="PALEOocean-Reactions"><a class="docs-heading-anchor" href="#PALEOocean-Reactions">PALEOocean Reactions</a><a id="PALEOocean-Reactions-1"></a><a class="docs-heading-anchor-permalink" href="#PALEOocean-Reactions" title="Permalink"></a></h1><h2 id="Ocean-geometry-and-circulation-transport"><a class="docs-heading-anchor" href="#Ocean-geometry-and-circulation-transport">Ocean geometry and circulation transport</a><a id="Ocean-geometry-and-circulation-transport-1"></a><a class="docs-heading-anchor-permalink" href="#Ocean-geometry-and-circulation-transport" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.OceanNoTransport.ReactionOceanNoTransport" href="#PALEOocean.Ocean.OceanNoTransport.ReactionOceanNoTransport"><code>PALEOocean.Ocean.OceanNoTransport.ReactionOceanNoTransport</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionOceanNoTransport</code></pre><p>N ocean boxes (default N=1 ie a single 0-D box), each with a surface and floor, no transport.</p><p><strong>Parameters</strong></p><ul><li><code>area[Vector{Float64}]</code>=[1.0]  (m^2), <code>default_value</code>=[1.0], <code>description</code>=&quot;surface / floor area (per box)&quot;</li><li><code>depth[Vector{Float64}]</code>=[1.0]  (m), <code>default_value</code>=[1.0], <code>description</code>=&quot;depth (per box)&quot;</li></ul><p><strong>Methods and Variables</strong></p><ul><li><code>do_setup_grid</code><ul><li><code>volume</code>  (m^3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;volume of ocean cells&quot;</li><li><code>volume_total</code>  (m^3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total volume of ocean cells&quot;</li><li><code>Abox</code>  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of box&quot;</li><li><code>zupper</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of upper surface of box (m)  0 is surface, -100 is depth of 100 m&quot;</li><li><code>zlower</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of lower surface of box (m)&quot;</li><li><code>zmid</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;mean depth of box&quot;</li><li><code>rho_ref</code>  (kg m^-3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean transport model density conversion factor (NB: this an artificial model quantity determined by the offline model for tracer transport, and may be distinct from physical ocean density, and from any density anomaly / potl density used by the offline physical model)&quot;</li><li><code>pressure</code>  (dbar), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean pressure&quot;</li><li><code>Afloor</code> –&gt; oceanfloor.Afloor  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of seafloor at base of box&quot;</li><li><code>Afloor_total</code> –&gt; oceanfloor.Afloor_total  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total area of seafloor&quot;</li><li><code>zfloor</code> –&gt; oceanfloor.zfloor  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of ocean floor (m, -ve)&quot;</li><li><code>Asurf</code> –&gt; oceansurface.Asurf  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of oceansurface&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/OceanNoTransport.jl#L10-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.OceanTransport3box.ReactionOceanTransport3box" href="#PALEOocean.Ocean.OceanTransport3box.ReactionOceanTransport3box"><code>PALEOocean.Ocean.OceanTransport3box.ReactionOceanTransport3box</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionOceanTransport3box</code></pre><p>3-box <a href="../References/#Sarmiento1984">Jorge L Sarmiento, J. R. Toggweiler (1984)</a>, <a href="../References/#Toggweiler1985">J. R. Toggweiler, Jorge L Sarmiento (1985)</a> ocean model.</p><pre><code class="nohighlight hljs">---------------------------------------
|  1 (s)                 | 2(h)        |
|                    --&gt;---&gt;-          |
|-------------------|----|  |          |   
|                   |    |  |     /|\  |
|                   |    |__|______|___|    
|                   |       |      |   |
|  3 (d)             -&lt;--&lt;--      \|/  |
|                  circT          fhd  |
|                                      |
----------------------------------------</code></pre><p><strong>Parameters</strong></p><ul><li><code>circT[Float64]</code>=2.0e7  (m^3 s^-1), <code>default_value</code>=2.0e7, <code>description</code>=&quot;overturning circulation&quot;</li><li><code>circfhd[Float64]</code>=6.0e7  (m^3 s^-1), <code>default_value</code>=6.0e7, <code>description</code>=&quot;high latitude &lt;-&gt; deep exchange rate&quot;</li><li><code>temp[Vector{Float64}]</code>=[21.5, 2.5, 2.5]  (degrees C), <code>default_value</code>=[21.5, 2.5, 2.5], <code>description</code>=&quot;ocean temperature&quot;</li><li><code>temp_trackglobal[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;track global temperature (apply offset of global temp -15C&quot;</li></ul><p><strong>Methods and Variables for default Parameters</strong></p><ul><li><p><code>do_setup_grid</code></p><ul><li><code>volume</code>  (m^3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;volume of ocean cells&quot;</li><li><code>volume_total</code>  (m^3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total volume of ocean cells&quot;</li><li><code>Abox</code>  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of box&quot;</li><li><code>zupper</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of upper surface of box (m)  0 is surface, -100 is depth of 100 m&quot;</li><li><code>zlower</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of lower surface of box (m)&quot;</li><li><code>zmid</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;mean depth of box&quot;</li><li><code>rho_ref</code>  (kg m^-3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean transport model density conversion factor (NB: this an artificial model quantity determined by the offline model for tracer transport, and may be distinct from physical ocean density, and from any density anomaly / potl density used by the offline physical model)&quot;</li><li><code>pressure</code>  (dbar), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean pressure&quot;</li><li><code>Afloor</code> –&gt; oceanfloor.Afloor  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of seafloor at base of box&quot;</li><li><code>Afloor_total</code> –&gt; oceanfloor.Afloor_total  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total area of seafloor&quot;</li><li><code>zfloor</code> –&gt; oceanfloor.zfloor  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of ocean floor (m, -ve)&quot;</li><li><code>Asurf</code> –&gt; oceansurface.Asurf  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of oceansurface&quot;</li><li><code>sal</code>  (psu), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean salinity&quot;</li><li><code>rho</code>  (kg m^-3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;physical ocean density&quot;</li><li><code>open_area_fraction</code> –&gt; oceansurface.open_area_fraction  (), <code>VT_ReactProperty</code>, <code>description</code>=&quot;fraction of area open to atmosphere&quot;</li></ul></li><li><p><code>do_temperature</code></p><ul><li>[<code>TEMP</code>] –&gt; global.TEMP  (K), <code>VT_ReactDependency</code>, <code>description</code>=&quot;global mean temperature&quot;</li><li><code>temp</code>  (Kelvin), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean temperature&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/OceanTransport3box.jl#L11-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.OceanTransport6box.ReactionOceanTransport6box" href="#PALEOocean.Ocean.OceanTransport6box.ReactionOceanTransport6box"><code>PALEOocean.Ocean.OceanTransport6box.ReactionOceanTransport6box</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionOceanTransport6box</code></pre><p>4+2-box ocean model from <a href="../References/#Daines2016">Stuart J Daines, Timothy M Lenton (2016)</a> This is based on:</p><ul><li>the four-box model of <a href="../References/#Hotinski2000">Roberta M Hotinski, Lee R Kump, Raymond G Najjar (2000)</a></li><li>the five-box model of <a href="../References/#Watson1995">Andrew J Watson (1995)</a></li><li>the upwelling region representation of <a href="../References/#Canfield2006">Donald E Canfield (2006)</a></li></ul><p>There are two main ingredients here:</p><ul><li><p>An open-ocean &#39;intermediate/thermocline&#39; box(i) from <a href="../References/#Hotinski2000">Roberta M Hotinski, Lee R Kump, Raymond G Najjar (2000)</a>, coupled to the low-latitude surface box via an Ekman pumping term and to high latitude box (h) via an overturning circulation term. This is a more realistic representation of the open ocean than the 3-box <a href="../References/#Sarmiento1984">Jorge L Sarmiento, J. R. Toggweiler (1984)</a>, <a href="../References/#Toggweiler1985">J. R. Toggweiler, Jorge L Sarmiento (1985)</a> model.</p></li><li><p>A two-box shelf/slope (boxes r, rc), which can be configured as </p><ul><li>an upwelling region (k_slopetype=&#39;OMZ&#39;), cf Canfield (2006) with upwelling from the intermediate/thermocline box</li><li>a low-latitude shelf (k_slopetype=&#39;shelf&#39;) with exchange terms to low-latitude surface (s) and thermocline (i) boxes</li></ul><p>See Oxygen oases\Box Model 20150922\HotinskiCalc5Box.m, HotinskiConstants5Box.m, HotinskiCalcCirc6.m</p><pre><code class="nohighlight hljs">     --------------------------------------------------
    | 5(r)      |  1 (s)                 | 2(h)        |
    |           |                        |             |
    |-----------|------------------------|             |   
    | 6(rc)     |                        |             |
    |           |  3 (i)                 |_____________|    
     -----------|                        |             |
       |        |------------------------              |
       |           4(d)                                |
       |                                               |
        -----------------------------------------------</code></pre></li></ul><p><strong>Parameters</strong></p><ul><li><code>slopetype[String]</code>=&quot;OMZ&quot;, <code>default_value</code>=&quot;OMZ&quot;, <code>allowed_values</code>=[&quot;OMZ&quot;, &quot;shelf&quot;], <code>description</code>=&quot;type of shelf circulation (boxes r, rc)&quot;</li><li><code>circT[Float64]</code>=1.93e7  (m^3 s^-1), <code>default_value</code>=1.93e7, <code>description</code>=&quot;overturning circulation (exchange high lat (h) to deep (d) and thermocline (i)&quot;</li><li><code>circfhd[Float64]</code>=4.87e7  (m^3 s^-1), <code>default_value</code>=4.87e7, <code>description</code>=&quot;high latitude &lt;-&gt; deep exchange rate&quot;</li><li><code>circR[Float64]</code>=2.0e7  (m^3 s^-1), <code>default_value</code>=2.0e7, <code>description</code>=&quot;upwelling thermocline (i) to slope (rc) to upwell (r) to low lat surface (s)&quot;</li><li><code>totalEkman[Float64]</code>=6.0e7  (m^3 s^-1), <code>default_value</code>=6.0e7, <code>description</code>=&quot;total wind-driven Ekman pumping&quot;</li><li><code>circS[Float64]</code>=1.0e6  (m^3 s^-1), <code>default_value</code>=1.0e6, <code>description</code>=&quot;upwell(r) &lt;-&gt; low lat surf box (s) exchange&quot;</li><li><code>temp[Vector{Float64}]</code>=[21.5, 2.5, 2.5, 2.5, 21.5, 2.5]  (degrees C), <code>default_value</code>=[21.5, 2.5, 2.5, 2.5, 21.5, 2.5], <code>description</code>=&quot;ocean temperature&quot;</li><li><code>temp_trackglobal[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;track global temperature (apply offset of global temp -15C&quot;</li></ul><p><strong>Methods and Variables for default Parameters</strong></p><ul><li><p><code>do_setup_grid</code></p><ul><li><code>volume</code>  (m^3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;volume of ocean cells&quot;</li><li><code>volume_total</code>  (m^3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total volume of ocean cells&quot;</li><li><code>Abox</code>  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of box&quot;</li><li><code>zupper</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of upper surface of box (m)  0 is surface, -100 is depth of 100 m&quot;</li><li><code>zlower</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of lower surface of box (m)&quot;</li><li><code>zmid</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;mean depth of box&quot;</li><li><code>rho_ref</code>  (kg m^-3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean transport model density conversion factor (NB: this an artificial model quantity determined by the offline model for tracer transport, and may be distinct from physical ocean density, and from any density anomaly / potl density used by the offline physical model)&quot;</li><li><code>pressure</code>  (dbar), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean pressure&quot;</li><li><code>Afloor</code> –&gt; oceanfloor.Afloor  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of seafloor at base of box&quot;</li><li><code>Afloor_total</code> –&gt; oceanfloor.Afloor_total  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total area of seafloor&quot;</li><li><code>zfloor</code> –&gt; oceanfloor.zfloor  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of ocean floor (m, -ve)&quot;</li><li><code>Asurf</code> –&gt; oceansurface.Asurf  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of oceansurface&quot;</li><li><code>sal</code>  (psu), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean salinity&quot;</li><li><code>rho</code>  (kg m^-3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;physical ocean density&quot;</li><li><code>open_area_fraction</code> –&gt; oceansurface.open_area_fraction  (), <code>VT_ReactProperty</code>, <code>description</code>=&quot;fraction of area open to atmosphere&quot;</li></ul></li><li><p><code>do_temperature</code></p><ul><li>[<code>TEMP</code>] –&gt; global.TEMP  (K), <code>VT_ReactDependency</code>, <code>description</code>=&quot;global mean temperature&quot;</li><li><code>temp</code>  (Kelvin), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean temperature&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/OceanTransport6box.jl#L10-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.OceanTransportTMM.ReactionOceanTransportTMM" href="#PALEOocean.Ocean.OceanTransportTMM.ReactionOceanTransportTMM"><code>PALEOocean.Ocean.OceanTransportTMM.ReactionOceanTransportTMM</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionOceanTransportTMM</code></pre><p>GCM ocean transport implementation using transport matrices in format defined by <a href="../References/#Khatiwala2007">Samar Khatiwala (2007)</a> Requires download of Samar Khatiwala&#39;s TMM files (for MITgcm, UVic models) as described in <a href="https://github.com/samarkhatiwala/tmm">https://github.com/samarkhatiwala/tmm</a> where TM files are from <a href="http://kelvin.earth.ox.ac.uk/spk/Research/TMM/TransportMatrixConfigs/">http://kelvin.earth.ox.ac.uk/spk/Research/TMM/TransportMatrixConfigs/</a></p><p>NB: <code>length(operatorID)</code> must be 2, to define <code>operatorID[1]</code> for explicit and <code>operatorID[2]</code> for implicit matrices.</p><p>The <code>base_path</code> parameter sets the top level of the folder structure for the downloaded matrices.</p><p>Code based on <code>TMM/tmm/models/petsc3.4/mitgchem/matlab/make_input_files_for_migchem_dic_biotic_model.m</code></p><p><strong>Parameters</strong></p><ul><li><code>base_path[String]</code>=&quot;<span>$</span>TMMDir<span>$</span>/MITgcm_2.8deg&quot;, <code>default_value</code>=&quot;<span>$</span>TMMDir<span>$</span>/MITgcm_2.8deg&quot;, <code>description</code>=&quot;directory containing transport matrices&quot;</li><li><code>sal_norm[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;apply salinity normalisation to transport matrix&quot;</li><li><code>use_annualmean[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;true to read annual mean matrix&quot;</li><li><code>num_seasonal[Int64]</code>=12, <code>default_value</code>=12, <code>description</code>=&quot;number of seasonal matrices&quot;</li><li><code>Aimp_deltat[Int64]</code>=86400  (seconds), <code>default_value</code>=86400, <code>description</code>=&quot;timestep to derive upscaling factor for implicit transport matrix&quot;</li><li><code>kji_order[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;true to sort indices into k,j,i order to optimise memory layout&quot;</li><li><code>pack_chunk_width[Int64]</code>=4, <code>default_value</code>=4, <code>allowed_values</code>=[0, 2, 4, 8, 16], <code>description</code>=&quot;non-zero to enable SIMD packed transport matrix multiply&quot;</li><li><code>TMfpsize[Int64]</code>=64  (bits), <code>default_value</code>=64, <code>allowed_values</code>=[32, 64], <code>description</code>=&quot;FP size for transport matrix&quot;</li></ul><p><strong>Methods and Variables</strong></p><ul><li><code>setup_grid_TMM</code><ul><li><code>volume</code>  (m^3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;volume of ocean cells&quot;</li><li><code>volume_total</code>  (m^3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total volume of ocean cells&quot;</li><li><code>Abox</code>  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of box&quot;</li><li><code>zupper</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of upper surface of box (m)  0 is surface, -100 is depth of 100 m&quot;</li><li><code>zlower</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of lower surface of box (m)&quot;</li><li><code>zmid</code>  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;mean depth of box&quot;</li><li><code>rho_ref</code>  (kg m^-3), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean transport model density conversion factor (NB: this an artificial model quantity determined by the offline model for tracer transport, and may be distinct from physical ocean density, and from any density anomaly / potl density used by the offline physical model)&quot;</li><li><code>pressure</code>  (dbar), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Ocean pressure&quot;</li><li><code>Afloor</code> –&gt; oceanfloor.Afloor  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of seafloor at base of box&quot;</li><li><code>Afloor_total</code> –&gt; oceanfloor.Afloor_total  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total area of seafloor&quot;</li><li><code>zfloor</code> –&gt; oceanfloor.zfloor  (m), <code>VT_ReactProperty</code>, <code>description</code>=&quot;depth of ocean floor (m, -ve)&quot;</li><li><code>Asurf</code> –&gt; oceansurface.Asurf  (m^2), <code>VT_ReactProperty</code>, <code>description</code>=&quot;horizontal area of oceansurface&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/OceanTransportTMM.jl#L18-L37">source</a></section></article><h2 id="Vertical-Transport"><a class="docs-heading-anchor" href="#Vertical-Transport">Vertical Transport</a><a id="Vertical-Transport-1"></a><a class="docs-heading-anchor-permalink" href="#Vertical-Transport" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.VerticalTransport.ReactionLightColumn" href="#PALEOocean.Ocean.VerticalTransport.ReactionLightColumn"><code>PALEOocean.Ocean.VerticalTransport.ReactionLightColumn</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionLightColumn</code></pre><p>Calculate light availability <code>insol</code> in ocean interior, given surface insolation <code>surface_insol</code>.</p><p>Includes: (i) a <code>background_opacity</code>; (ii) contributions from any Variables representing concentrations with non-zero <code>specific_light_extinction</code> attribute; (iii) any other opacity contributions added to the Target Variable <code>opacity</code>.</p><p><strong>Parameters</strong></p><ul><li><code>background_opacity[Float64]</code>=0.04  (m-1), <code>default_value</code>=0.04, <code>description</code>=&quot;background opacity&quot;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/VerticalTransport.jl#L12-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.VerticalTransport.ReactionExportDirect" href="#PALEOocean.Ocean.VerticalTransport.ReactionExportDirect"><code>PALEOocean.Ocean.VerticalTransport.ReactionExportDirect</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionExportDirect</code></pre><p>Vertical particle sinking represented as instantaneous transport, described by fixed matrices (suitable for small ocean models)</p><p>Transports a list of fluxes defined by parameter <code>fluxlist</code>, from input Target Variables  with local name <code>export_&lt;flux in fluxlist&gt;</code> to output Contributor Variables <code>remin_&lt;flux in fluxlist&gt;</code>.</p><p>Matrices are defined by parameter <code>transportocean</code> for sinking within water column, and parameter <code>transportfloor</code> for flux to ocean floor.</p><p>For larger, column-based ocean models use <a href="#PALEOocean.Ocean.VerticalTransport.ReactionExportDirectColumn"><code>ReactionExportDirectColumn</code></a>.</p><p><strong>Parameters</strong></p><ul><li><code>fluxlist[Vector{String}]</code>=[&quot;P&quot;, &quot;N&quot;, &quot;Corg&quot;], <code>default_value</code>=[&quot;P&quot;, &quot;N&quot;, &quot;Corg&quot;], <code>description</code>=&quot;names of fluxes to transport&quot;</li><li><code>transportocean[Vector{Vector{Float64}}]</code>=Vector{Float64}[], <code>default_value</code>=Vector{Float64}[], <code>description</code>=&quot;matrix describing ocean export&quot;</li><li><code>transportfloor[Vector{Vector{Float64}}]</code>=Vector{Float64}[], <code>default_value</code>=Vector{Float64}[], <code>description</code>=&quot;matrix describing oceanfloor export&quot;</li><li><code>conserv_errthresh[Float64]</code>=1.0e-5, <code>default_value</code>=1.0e-5, <code>description</code>=&quot;error threshold for conservation check (fraction of input)&quot;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/VerticalTransport.jl#L164-L178">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.VerticalTransport.ReactionExportDirectColumn" href="#PALEOocean.Ocean.VerticalTransport.ReactionExportDirectColumn"><code>PALEOocean.Ocean.VerticalTransport.ReactionExportDirectColumn</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionExportDirectColumn</code></pre><p>Vertical particle sinking represented as instantaneous transport. As <a href="#PALEOocean.Ocean.VerticalTransport.ReactionExportDirect"><code>ReactionExportDirect</code></a>, but for regular column-based models with functional form of flux vs depth defined by <code>exportfunction</code> parameter.</p><p>Transports a list of fluxes defined by parameter <code>fluxlist</code>, from input Target Variables  with local name <code>export_&lt;flux in fluxlist&gt;</code> to output Contributor Variables <code>remin_&lt;flux in fluxlist&gt;</code>.</p><p><strong>Parameters</strong></p><ul><li><code>fluxlist[Vector{String}]</code>=String[], <code>default_value</code>=String[], <code>description</code>=&quot;names of fluxes to transport&quot;</li><li><code>transportfloor[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;true to provide oceanfloor flux, false to recycle flux into lowest ocean cell&quot;</li><li><code>exportfunction[String]</code>=&quot;SumExp&quot;, <code>default_value</code>=&quot;SumExp&quot;, <code>allowed_values</code>=[&quot;Martin&quot;, &quot;SumExp&quot;], <code>description</code>=&quot;functional form for particle flux vs depth&quot;</li><li><code>input_frac[Vector{Float64}]</code>=[1.0], <code>default_value</code>=[1.0], <code>description</code>=&quot;fractions of input for each component ([1.0] for Martin, length=number of components for SumExp&quot;</li><li><code>sumexp_scale[Vector{Float64}]</code>=[500.0]  (m), <code>default_value</code>=[500.0], <code>description</code>=&quot;length scales for each component of exponential decay of flux with depth&quot;</li><li><code>martin_rovera[Float64]</code>=0.858, <code>default_value</code>=0.858, <code>description</code>=&quot;Martin power law exponent: flux \propto depth^rovera&quot;</li><li><code>martin_depthmin[Float64]</code>=100.0  (m), <code>default_value</code>=100.0, <code>description</code>=&quot;Martin power law minimum depth for start of decay with depth&quot;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/VerticalTransport.jl#L374-L385">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.VerticalTransport.ReactionSinkFloat" href="#PALEOocean.Ocean.VerticalTransport.ReactionSinkFloat"><code>PALEOocean.Ocean.VerticalTransport.ReactionSinkFloat</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionSinkFloat</code></pre><p>Vertical particle advection. </p><p>Applied to all concentration Variables with non-zero attribute <code>:vertical_movement</code> (m d-1, +ve upwards), using naming convention <code>&lt;name&gt;_conc</code> to identify <code>&lt;name&gt;_sms</code> Deriv Variable to apply to. An optional variable <code>&lt;name&gt;_w</code> may be defined that overrides <code>:vertical_movement</code> to define spatially-variable vertical motion.</p><p><strong>Parameters</strong></p><ul><li><code>transportfloor[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;true to provide oceanfloor flux, false to recycle flux into lowest ocean cell&quot;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/VerticalTransport.jl#L687-L699">source</a></section></article><h2 id="Biological-Production"><a class="docs-heading-anchor" href="#Biological-Production">Biological Production</a><a id="Biological-Production-1"></a><a class="docs-heading-anchor-permalink" href="#Biological-Production" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.BioProd.ReactionBioProdPrest" href="#PALEOocean.Ocean.BioProd.ReactionBioProdPrest"><code>PALEOocean.Ocean.BioProd.ReactionBioProdPrest</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionBioProdPrest</code></pre><p>P-limited biological production, configurable to restore P to specified level or to consume fraction of nutrients</p><p><strong>Parameters</strong></p><ul><li><code>bioprod[Vector{Int64}]</code>=Int64[], <code>default_value</code>=Int64[], <code>allowed_values</code>=[0, 1, 2, 3], <code>description</code>=&quot;production type (per cell): 0 - none, 1 - restore to absolute conc, 2 - consume fraction of nutrients supplied, 3 - restore to fraction of ocean mean&quot;</li><li><code>bioprodval[Vector{Float64}]</code>=Float64[]  (m-3 or none), <code>default_value</code>=Float64[], <code>description</code>=&quot;conc or frac corresponding to &#39;bioprod&#39;&quot;</li><li><code>rCorgPO4[Float64]</code>=106.0, <code>default_value</code>=106.0, <code>description</code>=&quot;Corg:P Redfield ratio of organic matter produced&quot;</li><li><code>rNPO4[Float64]</code>=16.0, <code>default_value</code>=16.0, <code>description</code>=&quot;N:P Redfield ratio of organic matter produced&quot;</li><li><code>rCcarbCorg[Float64]</code>=0.0, <code>default_value</code>=0.0, <code>description</code>=&quot;ratio of Ccarb to Corg produced&quot;</li><li><code>trest[Float64]</code>=0.1  (yr), <code>default_value</code>=0.1, <code>description</code>=&quot;restoring timescale&quot;</li><li><code>CIsotope[external, DataType]</code>=PALEOboxes.ScalarData, <code>default_value</code>=PALEOboxes.ScalarData, <code>allowed_values</code>=Type[PALEOboxes.ScalarData, PALEOboxes.IsotopeLinear], <code>description</code>=&quot;disable / enable carbon isotopes and specify isotope type&quot;</li></ul><p><strong>Methods and Variables for default Parameters</strong></p><ul><li><code>do_bio_prod_Prest</code><ul><li><code>volume</code>  (m^3), <code>VT_ReactDependency</code>, <code>description</code>=&quot;ocean cell volume&quot;</li><li><code>volume_total</code>  (m^3), <code>VT_ReactDependency</code>, <code>description</code>=&quot;ocean total volume&quot;</li><li><code>P_conc</code>  (mol m^-3), <code>VT_ReactDependency</code>, <code>description</code>=&quot;total P concentration&quot;</li><li><code>Prod_Corg</code> –&gt; %reaction%Prod_Corg  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;organic carbon production rate&quot;</li><li><code>Prod_Ccarb</code> –&gt; %reaction%Prod_Ccarb  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;carbonate production rate&quot;</li><li><code>P_sms</code>  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;total dissolved P source minus sink&quot;</li><li>[<code>O2_sms</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;O2 source minus sink&quot;</li><li>[<code>TAlk_sms</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;TAlk source minus sink&quot;</li><li>[<code>DIC_sms</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;DIC source minus sink&quot;</li><li>[<code>enable_bioprod</code>] –&gt; global.enable_bioprod  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;optional forcing, =0.0 to disable, !=0.0 to enable&quot;</li><li>[<code>PELCALC</code>] –&gt; global.PELCALC  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;optional forcing for pelagic calcification&quot;</li><li>[<code>prod_P</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux P&quot;</li><li>[<code>prod_N</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux N&quot;</li><li>[<code>prod_Corg</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Corg&quot;</li><li>[<code>prod_Ccarb</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Ccarb&quot;</li></ul></li><li><code>totals</code><ul><li><code>Prod_Corg</code> –&gt; %reaction%Prod_Corg  (mol yr-1), <code>VT_ReactDependency</code>, <code>description</code>=&quot;organic carbon production rate&quot;</li><li><code>Prod_Ccarb</code> –&gt; %reaction%Prod_Ccarb  (mol yr-1), <code>VT_ReactDependency</code>, <code>description</code>=&quot;carbonate production rate&quot;</li><li><code>Prod_Corg_total</code>  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total organic carbon production rate&quot;</li><li><code>Prod_Ccarb_total</code>  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total carbonate production rate&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/BioProd.jl#L11-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Ocean.BioProd.ReactionBioProdMMPop" href="#PALEOocean.Ocean.BioProd.ReactionBioProdMMPop"><code>PALEOocean.Ocean.BioProd.ReactionBioProdMMPop</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionBioProdMMPop</code></pre><p>Ocean phytoplankton biological production.</p><p>Configurable to represent oxygenic photosynthesizers with P, N limitation, nitrogen fixers, anoxygenic photosynthesis limited by electron donor availability.</p><p>Production is represented as a combination of limiting factors:</p><p><code>population_size x nutrient_limitation x light_limitation x temperature_limitation x electron_donor_limitation</code></p><p><code>population_size</code> may be either implicit (either a constant or ∝ nutrient concentration, generating GENIE-like parameterisations of  export production), or represented explicitly as a state variable.</p><p><strong>Parameters</strong></p><ul><li><code>rCorgPO4[Float64]</code>=106.0, <code>default_value</code>=106.0, <code>description</code>=&quot;Corg:P Redfield ratio of organic matter produced&quot;</li><li><code>rNPO4[Float64]</code>=16.0, <code>default_value</code>=16.0, <code>description</code>=&quot;N:P Redfield ratio of organic matter produced&quot;</li><li><code>rCcarbCorg[Float64]</code>=0.0, <code>default_value</code>=0.0, <code>description</code>=&quot;ratio of Ccarb to Corg produced&quot;</li><li><code>rCcarbCorg_fixed[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;Ccarb:Corg rain ratio true for fixed, false for sat. state dependent&quot;</li><li><code>k_r0[Float64]</code>=0.044372, <code>default_value</code>=0.044372, <code>description</code>=&quot;initial rain-ratio for sat. state dependent rain ratio&quot;</li><li><code>k_eta[Float64]</code>=0.8053406, <code>default_value</code>=0.8053406, <code>description</code>=&quot;exponent for sat. state dependent rain ratio&quot;</li><li><code>nuDOM[Float64]</code>=0.66, <code>default_value</code>=0.66, <code>description</code>=&quot;fraction of production to DOM reservoir&quot;</li><li><code>depthlimit[Float64]</code>=-200.0  (m), <code>default_value</code>=-200.0, <code>description</code>=&quot;depth limit for production&quot;</li><li><code>k_poptype[String]</code>=&quot;Constant&quot;, <code>default_value</code>=&quot;Constant&quot;, <code>allowed_values</code>=[&quot;Constant&quot;, &quot;Nutrient&quot;, &quot;Pop&quot;], <code>description</code>=&quot;population / growth rate model&quot;</li><li><code>k_uPO4[Float64]</code>=0.002  (mol P / m-3 / yr), <code>default_value</code>=0.002, <code>description</code>=&quot;for k_poptype = &#39;Constant&#39;: max rate, constant ie of form k_O_uPO4 * (light, nut etc)&quot;</li><li><code>k_mu[Float64]</code>=NaN  (1/yr), <code>default_value</code>=NaN, <code>description</code>=&quot;for k_poptype = &#39;Nutrient&#39;, &#39;Pop&#39;: max prod/growth rate (at 0C if templim==&#39;Eppley&#39;)&quot;</li><li><code>k_grazeresprate[Float64]</code>=NaN  (1/yr), <code>default_value</code>=NaN, <code>description</code>=&quot;for k_poptype = &#39;Pop&#39; imposed const loss (mortality) rate&quot;</li><li><code>k_templim[String]</code>=&quot;Constant&quot;, <code>default_value</code>=&quot;Constant&quot;, <code>allowed_values</code>=[&quot;Constant&quot;, &quot;Eppley&quot;], <code>description</code>=&quot;temperature limitation factor&quot;</li><li><code>k_lightlim[String]</code>=&quot;linear&quot;, <code>default_value</code>=&quot;linear&quot;, <code>allowed_values</code>=[&quot;linear&quot;, &quot;MM&quot;, &quot;fixed&quot;, &quot;QE&quot;], <code>description</code>=&quot;Light limitation function&quot;</li><li><code>k_Irel[Float64]</code>=1.0, <code>default_value</code>=1.0, <code>description</code>=&quot;multiplier for forcing-supplied insolation&quot;</li><li><code>k_Ic[Float64]</code>=30.0  (W/m^2), <code>default_value</code>=30.0, <code>description</code>=&quot;saturating irradiance for &#39;MM&#39; case&quot;</li><li><code>k_alphaQE[Float64]</code>=7.0  (mgC/mgChl/Wpar m^-2/d-1), <code>default_value</code>=7.0, <code>description</code>=&quot;chla-specific initial slope of the photosynthesis-light curve for lightlim=&#39;QE&#39;&quot;</li><li><code>k_thetaChlC[Float64]</code>=0.03  (mg Chl / mgC), <code>default_value</code>=0.03, <code>description</code>=&quot;Chl:Corg ratio for explicit population k_poptype=Pop&quot;</li><li><code>k_epsilonChl[Float64]</code>=0.012  (m^2/mg Chl), <code>default_value</code>=0.012, <code>description</code>=&quot;chl absorption coeff (for self shielding) for k_poptype=&#39;Pop&#39;&quot;</li><li><code>k_nuttype[String]</code>=&quot;PO4MM&quot;, <code>default_value</code>=&quot;PO4MM&quot;, <code>allowed_values</code>=[&quot;PO4MM&quot;, &quot;PO4NMM&quot;, &quot;PO4NMMNfix&quot;], <code>description</code>=&quot;Nutrient limitation / nitrogen fixation function&quot;</li><li><code>k_KPO4[Float64]</code>=NaN  (mol P m-3 ), <code>default_value</code>=NaN, <code>description</code>=&quot;limitation at low [P] MM half-max constant&quot;</li><li><code>k_KN[Float64]</code>=0.0  (mol NO3+NH4 m-3), <code>default_value</code>=0.0, <code>description</code>=&quot;limitation at low nitrogen&quot;</li><li><code>k_prefNH3[Float64]</code>=10.0, <code>default_value</code>=10.0, <code>description</code>=&quot;preference for ammonia over nitrate&quot;</li><li><code>k_edonor[String]</code>=&quot;H2O&quot;, <code>default_value</code>=&quot;H2O&quot;, <code>allowed_values</code>=[&quot;H2O&quot;, &quot;H2S&quot;], <code>description</code>=&quot;electron donor (H2O for oxygenic phototroph&quot;</li><li><code>k_KH2S[Float64]</code>=0.001  (mol H2S m-3), <code>default_value</code>=0.001, <code>description</code>=&quot;limitation at low [H2S] MM half-max constant&quot;</li><li><code>CIsotope[external, DataType]</code>=PALEOboxes.ScalarData, <code>default_value</code>=PALEOboxes.ScalarData, <code>allowed_values</code>=Type[PALEOboxes.ScalarData, PALEOboxes.IsotopeLinear], <code>description</code>=&quot;disable / enable carbon isotopes and specify isotope type&quot;</li></ul><p><strong>Methods and Variables for default Parameters</strong></p><ul><li><code>RateStoich_edonorO2eq</code><ul><li><code>edonorO2eq</code>  (mol O2eq yr-1), <code>VT_ReactDependency</code>, <code>description</code>=&quot;O2eq e- donor consumption (H2O) by oxygenic photosynthesis&quot;</li><li>[<code>O2_sms</code>]  (), <code>VT_ReactContributor</code>, <code>description</code>=&quot;generated by RateStoich rate=edonorO2eq&quot;</li></ul></li><li><code>do_bio_prod_MM_pop</code><ul><li><code>volume</code>  (m^3), <code>VT_ReactDependency</code>, <code>description</code>=&quot;ocean cell volume&quot;</li><li><code>zupper</code>  (m), <code>VT_ReactDependency</code>, <code>description</code>=&quot;cell depth (-ve)&quot;</li><li><code>open_area_fraction</code> –&gt; oceansurface.open_area_fraction  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;fraction of area open to atmosphere&quot;</li><li><code>P_conc</code>  (mol m^-3), <code>VT_ReactDependency</code>, <code>description</code>=&quot;total P concentration&quot;</li><li>[<code>OmegaCA</code>]  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;calcite saturation state&quot;</li><li>[<code>rate_bioprod</code>] –&gt; global.rate_bioprod  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;optional forcing, multiplier for productivity&quot;</li><li>[<code>PELCALC</code>] –&gt; global.PELCALC  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;optional forcing for pelagic calcification&quot;</li><li><code>Prod_Corg</code> –&gt; %reaction%Prod_Corg  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;organic carbon production rate&quot;</li><li><code>Prod_Ccarb</code> –&gt; %reaction%Prod_Ccarb  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;carbonate production rate&quot;</li><li><code>P_sms</code>  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;total dissolved P source minus sink&quot;</li><li>[<code>TAlk_sms</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;TAlk source minus sink&quot;</li><li>[<code>DIC_sms</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;DIC source minus sink&quot;</li><li>[<code>partprod_P</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux P&quot;</li><li>[<code>partprod_N</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux N&quot;</li><li>[<code>partprod_Corg</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Corg&quot;</li><li>[<code>partprod_Ccarb</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Ccarb&quot;</li><li>[<code>domprod_P</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux P&quot;</li><li>[<code>domprod_N</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux N&quot;</li><li>[<code>domprod_Corg</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Corg&quot;</li><li>[<code>domprod_Ccarb</code>]  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Ccarb&quot;</li><li><code>edonorO2eq</code>  (mol O2eq yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;O2eq e- donor consumption (H2O) by oxygenic photosynthesis&quot;</li><li><code>insol</code>  (W m-2), <code>VT_ReactDependency</code>, <code>description</code>=&quot;photosynthetic radiative flux&quot;</li></ul></li><li><code>totals</code><ul><li><code>Prod_Corg</code> –&gt; %reaction%Prod_Corg  (mol yr-1), <code>VT_ReactDependency</code>, <code>description</code>=&quot;organic carbon production rate&quot;</li><li><code>edonorO2eq</code>  (mol O2eq yr-1), <code>VT_ReactDependency</code>, <code>description</code>=&quot;O2eq e- donor consumption (H2O) by oxygenic photosynthesis&quot;</li><li><code>Prod_Ccarb</code> –&gt; %reaction%Prod_Ccarb  (mol yr-1), <code>VT_ReactDependency</code>, <code>description</code>=&quot;carbonate production rate&quot;</li><li><code>Prod_Corg_total</code>  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total organic carbon production rate&quot;</li><li><code>edonorO2eq_total</code>  (mol O2eq yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total O2eq e- donor consumption (H2O) by oxygenic photosynthesis&quot;</li><li><code>Prod_Ccarb_total</code>  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total carbonate production rate&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/ocean/BioProd.jl#L180-L200">source</a></section></article><h2 id="Ocean-surface-air-sea-flux"><a class="docs-heading-anchor" href="#Ocean-surface-air-sea-flux">Ocean surface air-sea flux</a><a id="Ocean-surface-air-sea-flux-1"></a><a class="docs-heading-anchor-permalink" href="#Ocean-surface-air-sea-flux" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSea" href="#PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSea"><code>PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSea</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionAirSea(Sc_function, sol_function, frac_function, gas_name)
ReactionAirSeaO2
ReactionAirSeaCO2
ReactionAirSeaCO2
ReactionAirSeaFixedSolubility</code></pre><p>Calculate atmosphere to ocean gas flux, mol/yr.</p><p>NB: ReactionAirSea not used directly - use as <code>ReactionAirSeaO2</code> etc.</p><p>Runs in <code>oceansurface</code> Domain, calculates per-oceansurface-cell atmosphere to ocean gas flux (mol yr-1) for a gas <code>X</code> using stagnant film model:</p><pre><code class="nohighlight hljs">flux_X = Asurf * open_area_fraction * vpiston * (solX(pXatm) - X_conc)</code></pre><p><code>Asurf</code> and <code>open_area_fraction</code> should be defined by <code>oceansurface</code> variables.</p><p>Piston velocity <code>vpiston</code> and gas solutibility <code>solX</code> are defined by gas specific functions (eg an empirical wind-velocity dependent Schmidt factor, and temperature and salinity dependent solubility).</p><p>If Parameter <code>moistair = true</code>, atmospheric partial pressure <code>pXatm</code> should be supplied as the equivalent for dry air (~ volume mixing ratio in dry air * pressure ), and is then corrected assuming saturated H2O at the ocean surface temperature.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/oceansurface/AirSeaExchange.jl#L204-L227">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaO2" href="#PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaO2"><code>PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaO2</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionAirSeaO2</code></pre><p>See <a href="#PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSea"><code>ReactionAirSea</code></a></p><ul><li>Piston velocity: Schmidt factor from <a href="../References/#SarmientoGruber2006">Jorge Louis Sarmiento, Nicolas Gruber (2006)</a></li><li>Solubility: from <a href="../References/#Wanninkhof1992">Rik Wanninkhof (1992)</a></li></ul><p><strong>Parameters</strong></p><ul><li><code>solubility_fixed[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;use fixed solubility&quot;</li><li><code>sol_fix_henry_coeff[Float64]</code>=NaN  (mol l-1 atm-1), <code>default_value</code>=NaN, <code>description</code>=&quot;Henry&#39;s law coefficient for solubility_fixed=true&quot;</li><li><code>moistair[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;apply correction for moist air&quot;</li><li><code>piston_fixed[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;use fixed piston velocity&quot;</li><li><code>piston[Float64]</code>=NaN  (m d-1), <code>default_value</code>=NaN, <code>description</code>=&quot;fixed piston velocity&quot;</li><li><code>TempKmin[Float64]</code>=-Inf  (K), <code>default_value</code>=-Inf, <code>description</code>=&quot;GENIE bug compatibility - lower limit on temperature for solubility&quot;</li><li><code>atm_partial_pressure_min_zero[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;true to clamp -ve values of atmospheric partial pressure to zero when calculating flux&quot;</li><li><code>ocean_conc_min_zero[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;true to clamp -ve values of ocean concentration to zero when calculating flux&quot;</li></ul><p><strong>Methods and Variables for default Parameters</strong></p><ul><li><code>do_air_sea_flux</code><ul><li><code>Asurf</code>  (m^2), <code>VT_ReactDependency</code>, <code>description</code>=&quot;horizontal area of oceansurface&quot;</li><li><code>open_area_fraction</code>  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;fracton of surface open to atmosphere (0-1.0)&quot;</li><li><code>pXatm</code> –&gt; atm.pO2atm  (atm), <code>VT_ReactDependency</code>, <code>description</code>=&quot;gas X atmospheric partial pressure&quot;</li><li><code>X_conc</code> –&gt; ocean.oceansurface.O2_conc  (mol m-3), <code>VT_ReactDependency</code>, <code>description</code>=&quot;ocean concentration [gas X]&quot;</li><li><code>flux_X</code> –&gt; fluxAtmtoOceansurface.flux_O2  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;air -&gt; sea gas X flux&quot;</li><li><code>temp</code> –&gt; ocean.oceansurface.temp  (K), <code>VT_ReactDependency</code>, <code>description</code>=&quot;ocean surface temperature&quot;</li><li><code>sal</code> –&gt; ocean.oceansurface.sal  (psu), <code>VT_ReactDependency</code>, <code>description</code>=&quot;ocean salinity&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/oceansurface/AirSeaExchange.jl#L266-L279">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaCO2" href="#PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaCO2"><code>PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaCO2</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionAirSeaCO2</code></pre><p>See <a href="#PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSea"><code>ReactionAirSea</code></a></p><ul><li>Piston velocity: Schmidt factor from <a href="../References/#Wanninkhof1992">Rik Wanninkhof (1992)</a></li><li>Solubility: calculated from <code>ocean.CO2_conc</code>, <code>ocean.pCO2atm</code> defined by ocean carbonate chemistry.</li><li>Isotope fractionation: equilibrium and kinetic fractionation from <a href="../References/#Zhang1995">J. Zhang, P.D. Quay, D.O. Wilbur (1995)</a></li></ul><p><strong>Parameters</strong></p><ul><li><code>solubility_fixed[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;use fixed solubility&quot;</li><li><code>sol_fix_henry_coeff[Float64]</code>=NaN  (mol l-1 atm-1), <code>default_value</code>=NaN, <code>description</code>=&quot;Henry&#39;s law coefficient for solubility_fixed=true&quot;</li><li><code>moistair[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;apply correction for moist air&quot;</li><li><code>piston_fixed[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;use fixed piston velocity&quot;</li><li><code>piston[Float64]</code>=NaN  (m d-1), <code>default_value</code>=NaN, <code>description</code>=&quot;fixed piston velocity&quot;</li><li><code>TempKmin[Float64]</code>=-Inf  (K), <code>default_value</code>=-Inf, <code>description</code>=&quot;GENIE bug compatibility - lower limit on temperature for solubility&quot;</li><li><code>atm_partial_pressure_min_zero[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;true to clamp -ve values of atmospheric partial pressure to zero when calculating flux&quot;</li><li><code>ocean_conc_min_zero[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;true to clamp -ve values of ocean concentration to zero when calculating flux&quot;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/oceansurface/AirSeaExchange.jl#L294-L305">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaCH4" href="#PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaCH4"><code>PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaCH4</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionAirSeaCH4</code></pre><p>See <a href="#PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSea"><code>ReactionAirSea</code></a></p><ul><li>Piston velocity: Schmidt factor from <a href="../References/#Wanninkhof1992">Rik Wanninkhof (1992)</a></li><li>Solubility: from <a href="../References/#Wanninkhof1992">Rik Wanninkhof (1992)</a></li><li>Isotope fractionation: NB: TODO no isotope fractionation</li></ul><p><strong>Parameters</strong></p><ul><li><code>solubility_fixed[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;use fixed solubility&quot;</li><li><code>sol_fix_henry_coeff[Float64]</code>=NaN  (mol l-1 atm-1), <code>default_value</code>=NaN, <code>description</code>=&quot;Henry&#39;s law coefficient for solubility_fixed=true&quot;</li><li><code>moistair[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;apply correction for moist air&quot;</li><li><code>piston_fixed[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;use fixed piston velocity&quot;</li><li><code>piston[Float64]</code>=NaN  (m d-1), <code>default_value</code>=NaN, <code>description</code>=&quot;fixed piston velocity&quot;</li><li><code>TempKmin[Float64]</code>=-Inf  (K), <code>default_value</code>=-Inf, <code>description</code>=&quot;GENIE bug compatibility - lower limit on temperature for solubility&quot;</li><li><code>atm_partial_pressure_min_zero[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;true to clamp -ve values of atmospheric partial pressure to zero when calculating flux&quot;</li><li><code>ocean_conc_min_zero[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;true to clamp -ve values of ocean concentration to zero when calculating flux&quot;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/oceansurface/AirSeaExchange.jl#L323-L334">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaFixedSolubility" href="#PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaFixedSolubility"><code>PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSeaFixedSolubility</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionAirSeaFixedSolubility</code></pre><p>See <a href="#PALEOocean.Oceansurface.AirSeaExchange.ReactionAirSea"><code>ReactionAirSea</code></a></p><ul><li>Piston velocity: fixed value from <code>piston</code> Parameter</li><li>Solubility: fixed value from <code>sol_fix_henry_coeff</code></li></ul><p>NB: <code>moistair</code> correction is not applied</p><p><strong>Parameters</strong></p><ul><li><code>solubility_fixed[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;use fixed solubility&quot;</li><li><code>sol_fix_henry_coeff[Float64]</code>=NaN  (mol l-1 atm-1), <code>default_value</code>=NaN, <code>description</code>=&quot;Henry&#39;s law coefficient for solubility_fixed=true&quot;</li><li><code>moistair[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;apply correction for moist air&quot;</li><li><code>piston_fixed[Bool]</code>=true, <code>default_value</code>=true, <code>description</code>=&quot;use fixed piston velocity&quot;</li><li><code>piston[Float64]</code>=NaN  (m d-1), <code>default_value</code>=NaN, <code>description</code>=&quot;fixed piston velocity&quot;</li><li><code>TempKmin[Float64]</code>=-Inf  (K), <code>default_value</code>=-Inf, <code>description</code>=&quot;GENIE bug compatibility - lower limit on temperature for solubility&quot;</li><li><code>atm_partial_pressure_min_zero[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;true to clamp -ve values of atmospheric partial pressure to zero when calculating flux&quot;</li><li><code>ocean_conc_min_zero[Bool]</code>=false, <code>default_value</code>=false, <code>description</code>=&quot;true to clamp -ve values of ocean concentration to zero when calculating flux&quot;</li></ul><p><strong>Methods and Variables for default Parameters</strong></p><ul><li><code>do_air_sea_flux</code><ul><li><code>Asurf</code>  (m^2), <code>VT_ReactDependency</code>, <code>description</code>=&quot;horizontal area of oceansurface&quot;</li><li><code>open_area_fraction</code>  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;fracton of surface open to atmosphere (0-1.0)&quot;</li><li><code>pXatm</code> –&gt; atm.pXatm  (atm), <code>VT_ReactDependency</code>, <code>description</code>=&quot;gas X atmospheric partial pressure&quot;</li><li><code>X_conc</code> –&gt; ocean.oceansurface.X_conc  (mol m-3), <code>VT_ReactDependency</code>, <code>description</code>=&quot;ocean concentration [gas X]&quot;</li><li><code>flux_X</code> –&gt; fluxAtmtoOceansurface.flux_X  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;air -&gt; sea gas X flux&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/oceansurface/AirSeaExchange.jl#L351-L366">source</a></section></article><h2 id="Ocean-floor-burial"><a class="docs-heading-anchor" href="#Ocean-floor-burial">Ocean floor burial</a><a id="Ocean-floor-burial-1"></a><a class="docs-heading-anchor-permalink" href="#Ocean-floor-burial" title="Permalink"></a></h2><h3 id="Carbonate-burial"><a class="docs-heading-anchor" href="#Carbonate-burial">Carbonate burial</a><a id="Carbonate-burial-1"></a><a class="docs-heading-anchor-permalink" href="#Carbonate-burial" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Oceanfloor.Burial.ReactionShelfCarb" href="#PALEOocean.Oceanfloor.Burial.ReactionShelfCarb"><code>PALEOocean.Oceanfloor.Burial.ReactionShelfCarb</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionShelfCarb</code></pre><p>Shallow-water carbonate burial controlled by carbonate saturation state (after <a href="../References/#Caldeira1993">Ken Caldeira, Michael R Rampino (1993)</a>)</p><p>Carbonate burial rate in cell <code>i</code> is <code>shelf_Ccarb[i]</code> = <code>carbsedshallow</code> * <code>shelfareanorm[i]</code> * &#39;(OmegaAR[i]-1.0)^1.7<code>where</code>carbsedshallow<code>(mol C yr-1) controls the global rate, and</code>shelfareanorm[i]` controls the spatial distribution  among ocean shelf cells.</p><p><strong>Parameters</strong></p><ul><li><code>carbsedshallow[Float64]</code>=1.4355e12  (mol C yr-1), <code>default_value</code>=1.4355e12, <code>description</code>=&quot;total carbonate deposition rate&quot;</li><li><code>shelfareanorm[Vector{Float64}]</code>=Float64[], <code>default_value</code>=Float64[], <code>description</code>=&quot;per box distribution of carbonate burial (length=Domain size, must sum to 1.0)&quot;</li><li><code>CIsotope[external, DataType]</code>=PALEOboxes.ScalarData, <code>default_value</code>=PALEOboxes.ScalarData, <code>allowed_values</code>=Type[PALEOboxes.ScalarData, PALEOboxes.IsotopeLinear], <code>description</code>=&quot;disable / enable carbon isotopes and specify isotope type&quot;</li></ul><p><strong>Methods and Variables for default Parameters</strong></p><ul><li><code>do_shelf_carb</code><ul><li><code>fluxOceanfloor_soluteflux_DIC</code> –&gt; fluxOceanfloor.soluteflux_DIC  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux DIC&quot;</li><li><code>fluxOceanfloor_soluteflux_TAlk</code> –&gt; fluxOceanfloor.soluteflux_TAlk  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux TAlk&quot;</li><li>[<code>fluxOceanfloor_soluteflux_Ca</code>] –&gt; fluxOceanfloor.soluteflux_Ca  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Ca&quot;</li><li>[<code>fluxOceanBurial_flux_Ccarb</code>] –&gt; fluxOceanBurial.flux_Ccarb  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Ccarb&quot;</li><li>[<code>shelfarea_force</code>] –&gt; global.shelfarea_force  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;optional forcing multiplier for carbsedshallow (defaults to 1.0)&quot;</li><li><code>OmegaAR</code> –&gt; ocean.oceanfloor.OmegaAR  (), <code>VT_ReactDependency</code>, <code>description</code>=&quot;aragonite saturation&quot;</li><li><code>shelf_Ccarb</code>  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;shelf Ccarb burial&quot;</li></ul></li><li><code>totals</code><ul><li><code>shelf_Ccarb</code>  (mol yr-1), <code>VT_ReactDependency</code>, <code>description</code>=&quot;shelf Ccarb burial&quot;</li><li><code>shelf_Ccarb_total</code>  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total shelf Ccarb burial&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/oceanfloor/Burial.jl#L12-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Oceanfloor.Burial.ReactionBurialEffCarb" href="#PALEOocean.Oceanfloor.Burial.ReactionBurialEffCarb"><code>PALEOocean.Oceanfloor.Burial.ReactionBurialEffCarb</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionBurialEffCarb</code></pre><p>Deep ocean carbonate burial as a carbonate-saturation-state-dependent fraction of carbonate flux.</p><p>Parameterisation from <a href="../References/#Caldeira1993">Ken Caldeira, Michael R Rampino (1993)</a>, intended for use in ocean box models with a single deep ocean box.</p><p>Fraction of input carbonate flux buried <code>flys</code> is a function of oceanfloor carbonate saturation state.</p><p>Carbonate burial flux <code>flux_Ccarb</code> = <code>particulateflux_Ccarb</code> * <code>flys</code>, where Fraction of input carbonate flux  buried <code>flys</code> is a function of carbonate saturation state.</p><p>Can be used with a spatially resolved model to provide a saturation-state dependent switch that allows burial of oceanfloor carbonate flux only above the lysocline.</p><p>Parameter <code>burial_eff_function</code> sets the functional form used for burial fraction <code>flys</code>:</p><ul><li>&quot;Caldeira1993&quot;: flys = 0.5*(1.0+tanh(k0([CO3] -k1)))</li></ul><p>(after <a href="../References/#Caldeira1993">Ken Caldeira, Michael R Rampino (1993)</a>, intended for use with the single deep ocean box in a 3-box ocean model)</p><ul><li>&quot;OmegaCA&quot;: flys = 1 - 0.5 * erfc(m0*(Ω_CA - m1))  (burial efficiency a function of oceanfloor saturation state)</li></ul><p><strong>Parameters</strong></p><ul><li><code>burial_eff_function[String]</code>=&quot;Caldeira1993&quot;, <code>default_value</code>=&quot;Caldeira1993&quot;, <code>allowed_values</code>=[&quot;Caldeira1993&quot;, &quot;OmegaCA&quot;], <code>description</code>=&quot;functional form for burial efficiency&quot;</li><li><code>k0[Float64]</code>=26.0  (m3/mol), <code>default_value</code>=26.0, <code>description</code>=&quot;Caldeira1993: burial frac &#39;steepness&#39; with CO3 concentration&quot;</li><li><code>k1[Float64]</code>=0.11  (mol/m3), <code>default_value</code>=0.11, <code>description</code>=&quot;Caldeira1993: CO3 concentration at burial frac 0.5&quot;</li><li><code>m0[Float64]</code>=10.0, <code>default_value</code>=10.0, <code>description</code>=&quot;OmegaCA: burial frac &#39;steepness&#39; with OmegaCA&quot;</li><li><code>m1[Float64]</code>=1.0, <code>default_value</code>=1.0, <code>description</code>=&quot;OmegaCA: OmegaCA at burial frac 0.5&quot;</li><li><code>hascarbseddeep[Vector{Bool}]</code>=Bool[], <code>default_value</code>=Bool[], <code>description</code>=&quot;per box flag to enable (length=Domain size)&quot;</li><li><code>CIsotope[external, DataType]</code>=PALEOboxes.ScalarData, <code>default_value</code>=PALEOboxes.ScalarData, <code>allowed_values</code>=Type[PALEOboxes.ScalarData, PALEOboxes.IsotopeLinear], <code>description</code>=&quot;disable / enable carbon isotopes and specify isotope type&quot;</li></ul><p><strong>Methods and Variables for default Parameters</strong></p><ul><li><code>do_burial_eff_carb</code><ul><li><code>fluxOceanfloor_soluteflux_DIC</code> –&gt; fluxOceanfloor.soluteflux_DIC  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux DIC&quot;</li><li><code>fluxOceanfloor_soluteflux_TAlk</code> –&gt; fluxOceanfloor.soluteflux_TAlk  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux TAlk&quot;</li><li>[<code>fluxOceanfloor_soluteflux_Ca</code>] –&gt; fluxOceanfloor.soluteflux_Ca  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Ca&quot;</li><li>[<code>fluxOceanBurial_flux_Ccarb</code>] –&gt; fluxOceanBurial.flux_Ccarb  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Ccarb&quot;</li><li><code>particulateflux_Ccarb</code>  (mol yr-1), <code>VT_ReactTarget</code>, <code>description</code>=&quot;input carbonate particulate flux&quot;</li><li><code>deep_Ccarb</code>  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;deep unresolved Ccarb burial&quot;</li><li><code>flys</code>  (), <code>VT_ReactProperty</code>, <code>description</code>=&quot;fraction of Ccarb export buried&quot;</li><li><code>CO3_conc</code> –&gt; ocean.oceanfloor.CO3_conc  (mol m-3), <code>VT_ReactDependency</code>, <code>description</code>=&quot;CO3 concentration&quot;</li></ul></li><li><code>totals</code><ul><li><code>deep_Ccarb</code>  (mol yr-1), <code>VT_ReactDependency</code>, <code>description</code>=&quot;deep unresolved Ccarb burial&quot;</li><li><code>deep_Ccarb_total</code>  (mol yr-1), <code>VT_ReactProperty</code>, <code>description</code>=&quot;total deep unresolved Ccarb burial&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/oceanfloor/Burial.jl#L131-L156">source</a></section></article><h3 id="Organic-carbon-and-phosphorus-burial"><a class="docs-heading-anchor" href="#Organic-carbon-and-phosphorus-burial">Organic carbon and phosphorus burial</a><a id="Organic-carbon-and-phosphorus-burial-1"></a><a class="docs-heading-anchor-permalink" href="#Organic-carbon-and-phosphorus-burial" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="PALEOocean.Oceanfloor.Burial.ReactionBurialEffCorgP" href="#PALEOocean.Oceanfloor.Burial.ReactionBurialEffCorgP"><code>PALEOocean.Oceanfloor.Burial.ReactionBurialEffCorgP</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReactionBurialEffCorgP</code></pre><p>Burial efficiency (fraction of <code>particulateflux</code> input) for Corg and P.</p><p>Input organic matter flux is given by <code>particulateflux_Corg, N, P</code>.  A fraction of <code>Corg</code> and <code>P</code> is buried to output flux <code>fluxOceanBurial.flux_, Corg, P, Porg, PFe, Pauth</code>, where <code>P</code> is the total P burial flux and <code>Porg, PFe, Pauth</code> are the three P burial mineral phases. The remainder of the input flux is transferred to <code>reminflux_Corg, N, P</code>, where it would usually be linked to a <code>ReactionRemin</code> to be remineralized.</p><p>The fraction of <code>Corg</code> buried is given by a burial efficiency function, with options set by Parameter <code>burial_eff_function</code>:</p><ul><li><code>Prescribed</code>: Corg burial in cell <code>i</code> = Corg particulateflux * <code>BECorgNorm</code>*<code>Parameter BECorg[i]</code></li><li><code>Ozaki2011</code>:  Corg burial in cell <code>i</code> =  Corg particulateflux * <code>BECorgNorm</code>*<code>burialEffCorg_Ozaki2011(sedimentation_rate)</code></li><li><code>ConstantBurialRate</code>: Corg burial in cell <code>i</code> = <code>BECorgNorm</code>*<code>Parameter BECorg[i]</code> (independent of Corg flux)</li></ul><p>It is also possible to set Parameter <code>FixedCorgBurialTotal</code>, in which case the ocean total Corg burial rate is fixed, and the per-cell Corg burial fluxes calculated as above are then normalized to reach this global total rate.</p><p>P burial efficiency is defined as P:Corg ratios for components Porg, PFe, Pauth by parameters <code>BPorgCorg</code>, <code>BPFeCorg</code>, <code>BPauthCorg</code>. If these are Vectors of length &gt; 1, they define interpolated functions of oceanfloor <code>[O2]</code> on a grid defined by parameter <code>BPO2</code>. If they are all Vectors of length 1, they define fixed Corg:P ratios.</p><p><strong>Parameters</strong></p><ul><li><code>BECorgNorm[Float64]</code>=1.0, <code>default_value</code>=1.0, <code>description</code>=&quot;overall normalization factor for Corg burial (or total Corg burial for ConstantBurialRate)&quot;</li><li><code>burial_eff_function[String]</code>=&quot;Prescribed&quot;, <code>default_value</code>=&quot;Prescribed&quot;, <code>allowed_values</code>=[&quot;Prescribed&quot;, &quot;Ozaki2011&quot;, &quot;ConstantBurialRate&quot;], <code>description</code>=&quot;Corg burial efficiency parameterisation (or ConstantBurialRate)&quot;</li><li><code>BECorg[Vector{Float64}]</code>=Float64[], <code>default_value</code>=Float64[], <code>description</code>=&quot;prescribed fraction seafloor Corg flux buried (or per-cell fraction of total Corg for ConstantBurialRate)&quot;</li><li><code>FixedCorgBurialTotal[Float64]</code>=NaN  (mol C yr-1), <code>default_value</code>=NaN, <code>description</code>=&quot;if != NaN, fix total ocean Corg burial rate by renormalizing per-cell fluxes&quot;</li><li><code>BPO2[Vector{Float64}]</code>=[NaN]  (mol O2 m-3), <code>default_value</code>=[NaN], <code>description</code>=&quot;[O2] points for interpolated oxygen-dependent P:Corg (length 1 for O2-independent P:Corg)&quot;</li><li><code>BPorgCorg[Vector{Float64}]</code>=[0.0]  (mol P (mol Corg)-1), <code>default_value</code>=[0.0], <code>description</code>=&quot;P:Corg for organic P burial fraction at each <a href="Vector length 1 for O2-independent P:Corg">O2</a>&quot;</li><li><code>BPFeCorg[Vector{Float64}]</code>=[0.0]  (mol P (mol Corg)-1), <code>default_value</code>=[0.0], <code>description</code>=&quot;P:Corg for Fe-associated P burial fraction at each <a href="Vector length 1 for O2-independent P:Corg">O2</a>&quot;</li><li><code>BPauthCorg[Vector{Float64}]</code>=[0.0]  (mol P (mol Corg)-1), <code>default_value</code>=[0.0], <code>description</code>=&quot;P:Corg for CFA-associated P burial fraction at each <a href="Vector length 1 for O2-independent P:Corg">O2</a>&quot;</li><li><code>CIsotope[external, DataType]</code>=PALEOboxes.ScalarData, <code>default_value</code>=PALEOboxes.ScalarData, <code>allowed_values</code>=Type[PALEOboxes.ScalarData, PALEOboxes.IsotopeLinear], <code>description</code>=&quot;disable / enable carbon isotopes and specify isotope type&quot;</li></ul><p><strong>Methods and Variables</strong></p><ul><li><code>do_burial_eff_CorgP</code><ul><li><code>particulateflux_Corg</code>  (mol yr-1), <code>VT_ReactTarget</code>, <code>description</code>=&quot;input particulate flux Corg&quot;</li><li><code>particulateflux_P</code>  (mol yr-1), <code>VT_ReactTarget</code>, <code>description</code>=&quot;input particulate flux P&quot;</li><li><code>particulateflux_N</code>  (mol yr-1), <code>VT_ReactTarget</code>, <code>description</code>=&quot;input particulate flux N&quot;</li><li><code>reminflux_Corg</code>  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;output unburied particulate flux Corg&quot;</li><li><code>reminflux_P</code>  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;output unburied particulate flux P&quot;</li><li><code>reminflux_N</code>  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;output unburied particulate flux N&quot;</li><li>[<code>fluxOceanBurial_flux_Corg</code>] –&gt; fluxOceanBurial.flux_Corg  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Corg&quot;</li><li>[<code>fluxOceanBurial_flux_Porg</code>] –&gt; fluxOceanBurial.flux_Porg  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Porg&quot;</li><li>[<code>fluxOceanBurial_flux_PFe</code>] –&gt; fluxOceanBurial.flux_PFe  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux PFe&quot;</li><li>[<code>fluxOceanBurial_flux_Pauth</code>] –&gt; fluxOceanBurial.flux_Pauth  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux Pauth&quot;</li><li>[<code>fluxOceanBurial_flux_P</code>] –&gt; fluxOceanBurial.flux_P  (mol yr-1), <code>VT_ReactContributor</code>, <code>description</code>=&quot;flux P&quot;</li><li><code>burial_eff_Corg</code>  (), <code>VT_ReactProperty</code>, <code>description</code>=&quot;Corg burial efficiency&quot;</li><li>[<code>sedimentation_rate</code>]  (m yr-1), <code>VT_ReactDependency</code>, <code>description</code>=&quot;sedimentation rate&quot;</li><li>[<code>O2_conc</code>] –&gt; ocean.oceanfloor.O2_conc  (mol m-3), <code>VT_ReactDependency</code>, <code>description</code>=&quot;O2 concentration&quot;</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/PALEOtoolkit/PALEOocean.jl/blob/ec423185d8f7c0a5f4249207a7ce2fdfc453429a/src/oceanfloor/Burial.jl#L297-L325">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../PALEOocean_Domains/">« PALEOocean Domains, fluxes, and standard Variables</a><a class="docs-footer-nextpage" href="../PALEOocean_functions/">PALEOocean functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Sunday 9 July 2023 09:39">Sunday 9 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
